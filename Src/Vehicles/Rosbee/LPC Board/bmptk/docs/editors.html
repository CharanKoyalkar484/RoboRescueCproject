<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Bare Metal Programming Tool Kit: Editors</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="bmptk-blue.gif"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Bare Metal Programming Tool Kit
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Editors </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Bmptk is used via its makefile. So if you want, you can use bmptk from the <a class="el" href="getting-started.html#command-line">command line</a>, but most people will prefer using an editor to get an 'IDE' feeling. The editor must be able to start the 'make build', 'make clean' and 'make run' commands, to capture the output of 'make build', and preferrably jump to the correct source line when you click on a build error. This page describes how you can use the following editors to do this:</p>
<ul>
<li><a class="el" href="editors.html#pspad">PSPad</a></li>
<li><a class="el" href="editors.html#geany">Geany</a></li>
<li><a class="el" href="editors.html#notepad-pp">Notepad++</a></li>
<li><a class="el" href="editors.html#programmers-notepad">Programmers Notepad</a></li>
</ul>
<p>The bmptk examples have a _project.ppr and build.bat in their directory so they can be used 'out of the box' with <a class="el" href="editors.html#pspad">PSPad</a>. </p>
<hr/>
<p><a class="anchor" id="pspad"></a></p>
<h2>PSPad</h2>
<div class="image">
<img src="pspad-logo.gif" alt="pspad-logo.gif"/>
</div>
<p>PSPad (<a href="http://www.pspad.com">www.pspad.com</a>) is a free code editor that can be configured to work with bmptk. This is done by including a few lines in the .ppr file to attach external commands to two buttons, and by including a build.bat file in the work dircetory that contains just the one line "make build". This .bat file is required because it seems impossible to run make directly from the .ppr file. The examples directories contain the appropriate .ppr and build.bat files.</p>
<p>With this setup in place the "run external compiler" button (or CTRL-F9) can be used to run "make build". The result of this command is captured in the result window, and you can click on an error message to jump to the corresponding scource location. When this has been succesfull the "open active file in external program" button (the one with the lightning bolt, no CTRL shortcut) can be used to run "make run" or "make clean". This button is less usefull for building the application because the command output is not captured by PSPad. For these buttons and commands to work it is required that the active file is one of the source (.h or .cpp) files in the working directory. If another type of file is open the buttons will be inactive (grayed out). If a source file in another directory is active PSPad will run the make commands in that directory.</p>
<p>Watch out when you open a new file in PSPad. The default directory that appears in the file selection menu is the last directory that you used in this way, NOT the directory PSPad was started in. Hence when you switch projects it is very easy to open the wrong source of Makefile and be flabbergasted that your changes seem to have no effect at all.</p>
<p>To open the Makefile you must right-click it and choose "open as text file". Don't forget to switch to a source file when you subsequently want to build or run the application. If things seem to go very wrong it might be an idea to open the .ppr file as text file to check which source files you realy are editing.</p>
<p>On my 64-bit Windows 7 PC PSPad does not show the names of the files in the edit tabs. This worked correctly on my laptop (windows XP).</p>
<p>PSPad will save all changed files before it runs an external command.</p>
<p>By default PSPad will use tab characters to create indendation, which IMHO is very bad because no two programs agree on how much indendation each tab creates. Use Settings =&gt; Program Settings =&gt; Editor Settings to correct this. I prefer 3 spaces per indentadion level.</p>
<div class="image">
<img src="pspad-editor-settings.gif" alt="pspad-editor-settings.gif"/>
</div>
<p>Some tips:</p>
<ul>
<li>view =&gt; Line Numbers : toggle showing line numbers</li>
<li>view =&gt; Special Chars : toggle showing tabs, newlines, etc</li>
<li>Tools =&gt; EyeDropper : get the 16-bit color value of a pixel on our screen</li>
<li>Setings =&gt; Program Settings =&gt; Editor - behaviour : uncheck "completion of chars ({[&lt;"'"</li>
<li>On some versions of windows, opening a second copy of PSPad by clicking on a .ppr file will give you a number of very weird error messages. Eventually the new project will be opened.</li>
<li>Running bmptk's make completely ignores the project file list as maintained by PSPad.</li>
<li>By default PSPad replaces TABs with spaces. This is OK, except when editng makefiles. You can insert a TAB in a makefile by cut-n-pasting an existing TAB.</li>
<li>You can use the run command (ALT-F9) to build and run your application, but remember that unlike the build command (CTRL-F9) it won't save your changes first! This is PSPad behaviour, I don't know how to change it.</li>
<li>When you run the application a (great) number of times from PSPad some resource seem to get depleted and further runs (other make calls: build and clean) will fail. Restarting PSPad will solve this, but it is rather annoying when you don't know why everything fails.</li>
</ul>
<p>When freshly started with a project directory copied from another PC PSPad will sometimes produce this error: </p>
<div class="image">
<img src="pspad-error1.gif" alt="pspad-error1.gif"/>
</div>
<p> I am not sure what causes this problem but it can be fixed by quitting PSPad and restarting it. Apparently it rewrites the .ppr file and in the process removes some problem, maybe with line endings.</p>
<hr/>
<p><a class="anchor" id="geany"></a> </p>
<h2>Geany</h2>
<div class="image">
<img src="geany-logo.gif" alt="geany-logo.gif"/>
</div>
<p>Geany (<a href="http://www.geany.org">www.geany.org</a>) is a free code editor that can call an external makefile. This works 'out-of-the-box' with bmptk. You can use Build =&gt; Make (Shift-F9) to build the project in the directory of the currently active file. To run or clean you can use Build =&gt; Make Custom Target (Shift-Control-F9) and type the target you want to 'build'.</p>
<p>While the make is running the editor is totally blocked, and no progress is shown untill the make has finished. (When you called for a 'make run' this means: untill you stop the executable or emulator!)</p>
<p>You can use Build =&gt; Set Build Commands to add new commands, for instance 'run' to call 'make run' directly. Such options appear in the Build menu item, but not in the Build dropdown list. These customizations seem to be stored globally, so you have to customize geany only once.</p>
<p>By default Geany does NOT save the edited files before starting an external command, which is a bit counter-intuitive. I suppose this behaviour can be changed, but I have not yet found how.</p>
<hr/>
<p><a class="anchor" id="notepad-pp"></a></p>
<h2>Notepad++</h2>
<div class="image">
<img src="npp-logo.gif" alt="npp-logo.gif"/>
</div>
<p>Notepad++ (<a href="http://notepad-plus-plus.org/">notepad-plus-plus-org.com</a>) is a free lightweight text editor. With the NppExec plugin Notepad++ can call do the basic chores of an IDE: call an external tool, capture the output, and jump to the source line that corresponds to an error message.</p>
<p>To install the NppExec choose Plugins =&gt; Plugin Manager =&gt; Show Plugin Manager. </p>
<div class="image">
<img src="npp-plugin-manager.gif" alt="npp-plugin-manager.gif"/>
</div>
<p>Check the box for NppExec and click Install, and let Notepad++ restart itself. </p>
<div class="image">
<img src="npp-install-nppexec.gif" alt="npp-install-nppexec.gif"/>
</div>
<p>Now F6 will open a window in which you can type the command you want to be executed: </p>
<div class="fragment"><div class="line">npp_saveall</div>
<div class="line">CD $(CURRENT_DIRECTORY)</div>
<div class="line">make build</div>
</div><!-- fragment --> <div class="image">
<img src="npp-f6-window.gif" alt="npp-f6-window.gif"/>
</div>
<p>You can save it, I suggest the name 'make build'. This script will save all files, CD to the directory of the active file, and run 'make build'. The output will be captured in an output window at the bottom of the screen. Likewise you can create 'make run' and 'make clean'.</p>
<p>The next step is to get the NppExec to recognise the source references in the output. Open Plugins =&gt; NppExec =&gt; Console Output Filters (. </p>
<div class="image">
<img src="npp-open-filters.gif" alt="npp-open-filters.gif"/>
</div>
<p>In the filters window you must specify the pattern for errors, and I suggest the pattern for warnings too. Select B for the errors to make them stand out. </p>
<div class="fragment"><div class="line">%FILE%:%LINE%: error:*</div>
<div class="line">%FILE%:%LINE%: warning:*</div>
</div><!-- fragment --> <div class="image">
<img src="npp-filters.gif" alt="npp-filters.gif"/>
</div>
<p>Now you can use F6 to open the command window, change the command, and run it, or CTRL-F6 to run the previous command without getting the command window. The result will appear in the command result window at the bootom, with the errors in bold. Click on an error to jump to the coresponding source line. </p>
<div class="image">
<img src="npp-build.gif" alt="npp-build.gif"/>
</div>
<p>When you have a succesfull build you can use run (F5) to run 'make run'.</p>
<p>More information about the command language can be found at <a href="http://sourceforge.net/apps/mediawiki/notepad-plus/index.php?title=Compiling_Source_Code">http://sourceforge.net/apps/mediawiki/notepad-plus/index.php?title=Compiling_Source_Code</a> </p>
<hr/>
<p><a class="anchor" id="programmers-notepad"></a></p>
<h2>Programmer's Notepad</h2>
<div class="image">
<img src="pn-logo.gif" alt="pn-logo.gif"/>
</div>
<p>Programmer's Notepad (<a href="http://www.pnotepad.org/">www.pnotepad.org</a>) is a free lightweight text editor, designed for editing source code. With a little customization PN can call do the basic chores of an IDE: call an external tool, capture the output, and jump to the source line that corresponds to an error message.</p>
<p>OPen a C++ file, and Select Tools =&gt; Options =&gt; Tools. </p>
<div class="image">
<img src="pn-tools-empty.gif" alt="pn-tools-empty.gif"/>
</div>
<p>Click Add. Create an entry for 'make build': </p>
<div class="image">
<img src="pn-make-build.gif" alt="pn-make-build.gif"/>
</div>
<p>You can leave the Console I/O tab unchanged. The shortcut key can be configured by selected the field and pressing the key (or combination) you prefer. I choose F6 for building, F8 for running, no shortcut for cleaning. Likewise make the entry for cleaning: </p>
<div class="image">
<img src="pn-make-clean.gif" alt="pn-make-clean.gif"/>
</div>
<p> And for runnung: </p>
<div class="image">
<img src="pn-make-run.gif" alt="pn-make-run.gif"/>
</div>
<p> You can activate the make commands either by their shortcut or from the Tools menu. </p>
<div class="image">
<img src="pn-tools-configured.gif" alt="pn-tools-configured.gif"/>
</div>
<p>As shown the make commands will first save all modified files.</p>
<p>Tips:</p>
<ul>
<li>enable View =&gt; Line Numbers</li>
<li>the make commands will be executed in the directory of the selected file, hence you must select a file in your project directory! </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6
</small></address>
</body>
</html>
